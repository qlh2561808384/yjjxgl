<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <title>comboTree</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
  <link href="../css/bootstrap-parser.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="../js/jquery-1.9.1.min.js"></script>
  <script src="../js/bootstrap.datanew.js"></script>
  <!--<script src="../plugins/input/input.js"></script>-->
</head>
<script>
  var zNodes =[
    { id:1, pId:0, name:"节点搜索演示 1", open:true, ISLEAF:0},
    { id:11, pId:1, name:"关键字可以是名字", test:123,ISLEAF:1},
    { id:12, pId:1, name:"关键字可以是level", ISLEAF:1},
    { id:13, pId:1, name:"关键字可以是id", ISLEAF:1},
    { id:14, pId:1, name:"关键字可以是各种属性", ISLEAF:1},
    { id:2, pId:0, name:"节点搜索演示 2", open:true, ISLEAF:0},
    { id:21, pId:2, name:"可以只搜索一个节点", ISLEAF:1},
    { id:22, pId:2, name:"可以搜索节点集合", ISLEAF:1},
    { id:23, pId:2, name:"搜我吧", ISLEAF:1},
    { id:3, pId:0, name:"节点搜索演示 3", open:true, ISLEAF:0},
    { id:31, pId:3, name:"我的 id 是: 31", ISLEAF:0},
    { id:32, pId:31, name:"我的 id 是: 32", ISLEAF:0},
    { id:33, pId:32, name:"我的 id 是: 33", ISLEAF:1},
    { id:40, pId:32, name:"我的 id 是: 33", ISLEAF:1},
    { id:41, pId:32, name:"我的 id 是: 33", ISLEAF:1},
    { id:42, pId:32, name:"我的 id 是: 33", ISLEAF:1},
    { id:43, pId:32, name:"我的 id 是: 33", ISLEAF:1},
    { id:44, pId:32, name:"我的 id 是: 33", ISLEAF:1},
    { id:45, pId:32, name:"我的 id 是: 33", ISLEAF:1},
    { id:46, pId:32, name:"我的 id 是: 33", ISLEAF:1},
    { id:47, pId:32, name:"我的 id 是: 33", ISLEAF:1},
    { id:34, pId:33, name:"我的 id 是: 34", ISLEAF:1},
    { id:35, pId:34, name:"我的 id 是: 34", ISLEAF:1},
    { id:36, pId:35, name:"我的 id 是: 34", ISLEAF:1},
    { id:37, pId:36, name:"我的 id 是: 34", ISLEAF:1},
  ];
  var zNodes1 = [
    {id:1, pId:0, name:"北京", ISLEAF:1},
    {id:2, pId:0, name:"天津", ISLEAF:1},
    {id:3, pId:0, name:"上海", ISLEAF:1},
    {id:4, pId:0, name:"河北省", ISLEAF:0},
    {id:41, pId:4, name:"石家庄", ISLEAF:0},
    {id:411, pId:41, name:"dd", ISLEAF:1},
    {id:42, pId:4, name:"保定", ISLEAF:1},
    {id:43, pId:4, name:"邯郸", ISLEAF:1},
    {id:44, pId:4, name:"承德", ISLEAF:1},
    {id:5, pId:0, name:"广东省", ISLEAF:0},
    {id:51, pId:5, name:"广州", ISLEAF:1},
    {id:52, pId:5, name:"深圳", ISLEAF:1},
    {id:53, pId:5, name:"东莞", ISLEAF:1},
    {id:54, pId:5, name:"佛山", ISLEAF:1},
    {id:6, pId:0, name:"福建省", ISLEAF:0},
    {id:61, pId:6, name:"福州", ISLEAF:1},
    {id:62, pId:6, name:"厦门", ISLEAF:1},
    {id:63, pId:6, name:"泉州", ISLEAF:1},
    {id:64, pId:6, name:"三明", ISLEAF:1}
  ];

  $(function(){
    $("#searchTree").searchTree({
      width:200,
      checkType:'radio',
      required:true,
      validText:'测试',
      localdata: zNodes,
      rootElement:false,
      onlyLeaf:true,
      onChange:function(newValue,oldValue){
        console.log(newValue+",,,,"+oldValue);
      },
      onAckCallback:function(nodes){
        alert(nodes.length)
      },
      onLoaded:function(tree){
        console.log(tree.getNodes())
      }
    });
  });


  function disable(){
    $("#searchTree").searchTree("disable");
  }
  function enable(){
    $("#searchTree").searchTree("enable");
  }
  function getValue(){
    alert($("#searchTree").searchTree("getValue"));
  }
  function setValue(){
    $('#searchTree').searchTree("setValue",'12')
  }
  function testVile(){
    $("#searchTree").searchTree("validate")
  }
  function destroy(){
    $("#searchTree").searchTree("destroy")
  }
  function clear1(){
    $("#searchTree").searchTree("clear");
  }
  function reload(){
    $("#searchTree").searchTree("reload",{localdata:zNodes1});
  }




</script>
</head>
<body>

<section class="parser container-fluid">
  <div class="page-header"><h1>searchTree —— 查询树输入框</h1></div>
  searchTree 继承自 textBox
  默认参数 继承自 textBox.default tree.default
  <h4>语法：</h4>
     <pre>
        <ol style="display:table">
          <li><span>初始化：</span></li>
          <li><span>fn.searchTree(初始化参数对象)</span></li>
          <li><span>方法调用：</span></li>
          <li><span>fn.searchTree('方法名',参数)</span></li>
        </ol>
    </pre>

  <h4>初始化参数</h4>
  <table class=" table-border">
    <thead>
    <tr><th>名称</th><th>类型</th><th>描述</th><th>默认值</th></tr>
    </thead>
    <tbody>
    <tr><td>width</td><td>int</td><td>input宽度</td><td>100%</td></tr>
    <tr><td>modalWidth</td><td>int</td><td>模态框宽度</td><td>auto</td></tr>
    <tr><td>modalHeight</td><td>int</td><td>模态框高度</td><td>auto</td></tr>modalTitle
    <tr><td>modalTitle</td><td>string</td><td>模态框title</td><td>''</td></tr>
    <tr><td>placeholder</td><td>String</td><td>提示文字</td><td>""</td></tr>
    <tr><td>required</td><td>Boolean</td><td>是否必选</td><td>false</td></tr>
    <tr><td>validate</td><td>Function OR String</td>
      <td>定义表单验证规则。可使用globalValid中定义的正则名称 支持多种正则验证 多个正则名间用'|'进行分割。如正则无法满足 可定义function(value){return boolean} 参数为表单value 返回值必须为boolean</td><td>false</td></tr>
    <tr><td>localdata</td><td>[]</td><td>本地数据 用于加载本地数据</td><td>[]</td></tr>
    <tr><td>url</td><td>String</td><td>远程数据请求路径</td><td>''</td></tr>
    <tr><td>queryParam</td><td>{}</td><td>远程请求的额外参数</td><td>{}</td></tr>
    <tr><td>onChange</td><td>Function</td><td>change触发回调方法 参数1：newValue参数2：oldValue</td><td>return false</td></tr>
    <tr><td>onAckCallback</td><td>Function</td><td>点击模态框确认按钮后回调</td><td>return false</td></tr>
    <tr><td>onLoaded</td><td>Function</td><td>树加载完毕后回调 参数为  ztree：ztree对象 可使用该对象 调用ztreeAPI </td><td>return false</td></tr>

    </tbody>
  </table>
  <h4>方法:</h4>
  <table class=" table-border">
    <thead>
    <tr><th>名称</th><th>参数</th><th>描述</th></tr>
    </thead>
    <tbody>
    <tr><td>validate</td><td>none</td><td>对input进行表单验证 返回boolean</td></tr>
    <tr><td>clear</td><td>none</td><td>清除组件内容</td></tr>
    <tr><td>getValue</td><td>none</td><td>获取value</td></tr>
    <tr><td>setValue</td><td>String</td><td>设值回写 多选下 多个值逗号分隔</td></tr>
    <tr><td>disable</td><td>none</td><td>禁用组件</td></tr>
    <tr><td>enable</td><td>none</td><td>启用</td></tr>
    <tr><td>reload</td><td>obj</td><td>重新加载树 参见tree reload 方法</td></tr>
    <tr><td>getText</td><td>none</td><td>获取显示文本内容</td></tr>
    <tr><td>setText</td><td>String</td><td>设置显示文本内容</td></tr>
    <tr><td>getTree</td><td>none</td><td>返回树对象  该对象可以使用ztree API</td></tr>
    <tr><td>searchNodes</td><td>string</td><td>根据树节点name 模糊过滤节点</td></tr>

    </tbody>
  </table>
  <h4>案例:</h4>
  <div id="bt">
    <button class="btn btn-primary bootstrap-table-add" type="button" onclick="disable()">禁用</button>
    <button class="btn btn-primary bootstrap-table-edit" type="button" onclick="enable()">启用</button>
    <button class="btn btn-primary bootstrap-table-delete" type="button" onclick="getValue()">取值</button>
    <button class="btn btn-primary" type="button" onclick="setValue()">设值</button>
    <button class="btn btn-primary" type="button" onclick="testVile()">表单验证</button>
    <button class="btn btn-primary" type="button" onclick="destroy()">销毁</button>
    <button class="btn btn-primary" type="button" onclick="clear1()">clear</button>
    <button class="btn btn-primary" type="button" onclick="reload()">reload</button>
  </div>
  <input id="searchTree"/>
    <pre>
        <ol style="display:table">

          <li><span>$("#searchTree").searchTree({</span></li>
          <li><span>  width:200,</span></li>
          <li><span>  checkType:'checkbox',</span></li>
          <li><span>  required:true,</span></li>
          <li><span>  validText:'测试',</span></li>
          <li><span>  localdata: zNodes,</span></li>
          <li><span>  rootElement:false,</span></li>
          <li><span>  onlyLeaf:true,</span></li>
          <li><span>  onChange:function(newValue,oldValue){</span></li>
          <li><span>    console.log(newValue+",,,,"+oldValue);</span></li>
          <li><span>  },</span></li>
          <li><span>  onAckCallback:function(nodes){</span></li>
          <li><span>    alert(nodes.length)</span></li>
          <li><span>  },</span></li>
          <li><span>  onLoaded:function(tree){</span></li>
          <li><span>    console.log(tree.getNodes())</span></li>
          <li><span>  }</span></li>
          <li><span>});</span></li>
        </ol>
    </pre>
</section>
<!--工具栏-->

</body>


</html>